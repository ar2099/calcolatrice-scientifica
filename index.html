<!DOCTYPE html><html lang="it"><head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <style>#container-tasti,#display{background-color:#727272;display:flex}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;font-family:Arial,"Helvetica Neue",Helvetica,sans-serif}*{box-sizing:border-box}.clearfix::after{content:"";clear:both;display:table}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}#containerApp{width:100%;height:100vh;display:flex;align-items:center;justify-content:center}#calcolatrice{height:600px;width:630px;border:4px solid #000;border-radius:10%;display:flex;flex-direction:column;overflow:hidden}#display{height:30%;align-items:center;justify-content:center;border-bottom:4px solid #000}#schermo,.tasto{background-color:#fff}#schermo{width:90%;height:70%;min-height:40px;padding:4px;font-size:3.5em;display:flex;align-items:center;white-space:nowrap;overflow:auto;color:#000}#container-tasti{height:70%;flex-wrap:wrap;justify-content:space-around;align-content:flex-start;align-items:center;padding:10px}.tasto{padding:13px;border:1px solid #000;border-radius:4px;height:fit-content;font-size:2em;margin:6px}</style> <title>Calcolatrice</title></head><body> <div id="containerApp"> <div id="calcolatrice"> <div id="display"> <p id="schermo"></p></div><div id="container-tasti"> <span class="tasto numero">0</span> <span class="tasto numero">1</span> <span class="tasto numero">2</span> <span class="tasto numero">3</span> <span class="tasto numero">4</span> <span class="tasto numero">5</span> <span class="tasto numero">6</span> <span class="tasto numero">7</span> <span class="tasto numero">8</span> <span class="tasto numero">9</span> <span class="tasto" id="punto">.</span> <span class="tasto somma">+</span> <span class="tasto somma">-</span> <span class="tasto operatore1">:</span> <span class="tasto operatore1">*</span> <span class="tasto" id="potenza">^</span> <span class="tasto" id="radice">√</span> <span class="tasto" id="aperturaParentesi">(</span> <span class="tasto" id="chiusuraParentesi">)</span> <span class="tasto" id="cancTutto">Cancella tutto</span> <span class="tasto" id="canc1">Canc1</span> <span class="tasto" id="uguale">=</span> <label for="apr" class="tasto">Risultato con quante cifre decimali:</label> <select name="approssimazione" id="apr" class="tasto"> <option value="5">5</option> <option value="4">4</option> <option value="3">3</option> <option value="2">2</option> <option value="1">1</option> <option value="0">0</option> </select> </div></div></div><script>function risoluzioneSemplice(e){let r, o=!1; for (!1==e.some(e=> "^"==e) && !1==e.some(e=> "√"==e) && (o=!0); !1==o;){let n=e.indexOf("^"), a=e.indexOf("√"), t; n < a && -1 !=n ? (e[t=n]=e[t - 1] ** e[t + 1], e[t - 1]="rifiuto", e[t + 1]="rifiuto") : n > a && -1==a ? (e[t=n]=e[t - 1] ** e[t + 1], e[t - 1]="rifiuto", e[t + 1]="rifiuto") : n > a && -1 !=a ? (e[t=a]=Math.sqrt(e[t + 1]), e[t + 1]="rifiuto") : n < a && -1==n ? (e[t=a]=Math.sqrt(e[t + 1]), e[t + 1]="rifiuto") : -1==n && -1==a && (o=!0), e=e.filter(e=> "rifiuto" !=e)}let m=!1; for (!1==e.some(e=> "+"==e) && !1==e.some(e=> "-"==e) && (m=!0); !1==m;){for (i=0; i < e.length; i++)"-"==e[i] && "-"==e[i + 1] ? (e[i]="+", e[i + 1]="rifiuto") : ("-"==e[i] || "+"==e[i]) && "+"==e[i + 1] ? e[i + 1]="rifiuto" : ("-"==e[i + 1] || "+"==e[i + 1]) && "+"==e[i] && (e[i]="rifiuto"); !1==e.some(e=> "rifiuto"==e) ? m=!0 : e=e.filter(e=> "rifiuto" !=e)}for (i=0, e=e.filter(e=> "+" !=e); i < e.length; i++)("*"==e[i] || ":"==e[i]) && "-"==e[i - 1] && "-"==e[i + 1] && (e[i - 1]="rifiuto"); for (i=0, e=e.filter(e=> "rifiuto" !=e); i < e.length; i++)("*"==e[i] || ":"==e[i]) && "-"==e[i - 1] && !1==isNaN(e[i + 1]) && (e[i - 1]=e[i], e[i]="-"); for (i=0, e=e.filter(e=> "rifiuto" !=e); i < e.length; i++)!1==isNaN(e[i]) && "-"==e[i - 1] && (e[i]=-e[i]); e=e.filter(e=> "-" !=e); let u=!1; for (!1==e.some(e=> "*"==e) && !1==e.some(e=> ":"==e) && (u=!0); !1==u;){let s=e.indexOf("*"), g=e.indexOf(":"), _; s < g && -1 !=s ? (e[_=s]=e[_ - 1] * e[_ + 1], e[_ - 1]="rifiuto", e[_ + 1]="rifiuto") : s > g && -1==g ? (e[_=s]=e[_ - 1] * e[_ + 1], e[_ - 1]="rifiuto", e[_ + 1]="rifiuto") : s > g && -1 !=g ? (e[_=g]=e[_ - 1] / e[_ + 1], e[_ - 1]="rifiuto", e[_ + 1]="rifiuto") : s < g && -1==s ? (e[_=g]=e[_ - 1] / e[_ + 1], e[_ - 1]="rifiuto", e[_ + 1]="rifiuto") : -1==s && -1==g && (u=!0), e=e.filter(e=> "rifiuto" !=e)}function c(e, r){return e + r}return e=e.reduce(c)}function risoluzioneComplessa(e){if (!1==e.some(e=> "("==e)) return e=risoluzioneSemplice(e); for (; !0==e.some(e=> "("==e);){let r=e.lastIndexOf("("), o=e.indexOf(")", r), n=e, a=risoluzioneSemplice(n=n.slice(r + 1, o)); e.splice(r, o - r + 1, a)}return e=risoluzioneSemplice(e)}const tuttiNumeri=document.querySelectorAll(".numero"), punto=document.getElementById("punto"), schermo=document.getElementById("schermo"); let memoriaLunga=[], memoriaBreve="", statoOperatore1=!1; function digitNumber(e){e.addEventListener("click", function (){")"==memoriaLunga[memoriaLunga.length - 1] ? alert("dopo la parentesi ci vuole un operatore") : (!1==isNaN(memoriaLunga[memoriaLunga.length - 1]) && (schermo.innerText +="+", memoriaLunga.push("+")), schermo.innerText +=e.innerText, memoriaBreve +=e.innerText, statoOperatore1=!0)})}tuttiNumeri.forEach(digitNumber); let statoPunto=!0; punto.addEventListener("click", function (){!0==statoPunto && "" !==memoriaBreve ? (schermo.innerText +=punto.innerText, memoriaBreve +=punto.innerText, statoPunto=!1) : !0==statoPunto && ""===memoriaBreve ? ""===memoriaBreve && 1==memoriaLunga.length && !1==isNaN(memoriaLunga[0]) ? (schermo.innerText +="+0.", memoriaBreve="0" + punto.innerText, memoriaLunga.push("+"), statoPunto=!1, statoOperatore1=!0) : (schermo.innerText +="0" + punto.innerText, memoriaBreve=memoriaBreve + "0" + punto.innerText, statoPunto=!1, statoOperatore1=!0) : alert("non ci possono essere due punti nello stesso numero")}); let contoParentesi=0; const aperturaParentesi=document.getElementById("aperturaParentesi"); aperturaParentesi.addEventListener("click", function (){"" !==memoriaBreve ? alert("prima della parentesi serve un operatore") : (")"==memoriaLunga[memoriaLunga.length - 1] && (schermo.innerText +="+", memoriaLunga.push("+")), schermo.innerText +="(", "" !==memoriaBreve && memoriaLunga.push(Number(memoriaBreve)), memoriaLunga.push("("), memoriaBreve="", contoParentesi +=1, statoPunto=!0)}); const chiusuraParentesi=document.getElementById("chiusuraParentesi"); chiusuraParentesi.addEventListener("click", function (){contoParentesi > 0 ? "" !==memoriaBreve || ")"==memoriaLunga[memoriaLunga.length - 1] ? (schermo.innerText +=")", "" !==memoriaBreve && memoriaLunga.push(Number(memoriaBreve)), memoriaLunga.push(")"), memoriaBreve="", contoParentesi -=1, statoPunto=!0) : alert("la parentesi va chiusa con un numero o con una parentesi prima") : alert("non ci sono parentesi aperte")}); const somma=document.querySelectorAll(".somma"); function digitSomma(e){e.addEventListener("click", function (){schermo.innerText +=e.innerText, "" !==memoriaBreve && memoriaLunga.push(Number(memoriaBreve)), memoriaLunga.push(e.innerText), memoriaBreve="", statoPunto=!0})}somma.forEach(digitSomma); const operatore1=document.querySelectorAll(".operatore1"); function digitOperatore1(e){e.addEventListener("click", function (){!1==statoOperatore1 ? alert("errore di digitazione. Digita prima un numero") : "("==memoriaLunga[memoriaLunga.length - 1] && ""===memoriaBreve ? alert("errore di digitazione. Digita prima un numero") : "^"==memoriaLunga[memoriaLunga.length - 1] && ""===memoriaBreve ? alert("errore di digitazione. Digita prima un numero") : "√"==memoriaLunga[memoriaLunga.length - 1] && ""===memoriaBreve ? alert("errore di digitazione. Digita prima un numero") : (schermo.innerText +=e.innerText, "" !==memoriaBreve && memoriaLunga.push(Number(memoriaBreve)), memoriaLunga.push(e.innerText), memoriaBreve="", statoPunto=!0, statoOperatore1=!1)})}operatore1.forEach(digitOperatore1); const radice=document.getElementById("radice"); radice.addEventListener("click", function (){"" !==memoriaBreve && !0==isNaN(memoriaLunga[memoriaLunga.length - 1]) && 0 !=memoriaLunga[memoriaLunga.length - 1] ? (memoriaLunga.push(Number(memoriaBreve)), memoriaLunga.push("+"), memoriaLunga.push("√"), memoriaLunga.push("("), contoParentesi +=1, statoPunto=!0, memoriaBreve="") : ""===memoriaBreve && 0==memoriaLunga.length ? (memoriaLunga.push("√"), memoriaLunga.push("("), statoPunto=!0, memoriaBreve="", contoParentesi +=1) : ""===memoriaBreve || 1==memoriaLunga.length ? (memoriaLunga.push("+"), memoriaLunga.push("√"), memoriaLunga.push("("), contoParentesi +=1, statoPunto=!0, memoriaBreve="") : ""===memoriaBreve && 0 !=memoriaLunga.length && !0==isNaN(memoriaLunga[memoriaLunga.length - 1]) && (")"==memoriaLunga[memoriaLunga.length - 1] && memoriaLunga.push("+"), memoriaLunga.push("√"), memoriaLunga.push("("), contoParentesi +=1, statoPunto=!0, memoriaBreve=""), schermo.innerText=memoriaLunga.toString().replace(/,/g, "")}); const potenza=document.getElementById("potenza"); potenza.addEventListener("click", function (){""===memoriaBreve && 0==memoriaLunga.length ? alert("non si pu\xf2 iniziare con un elevamento a potenza") : ""===memoriaBreve && 0 !=memoriaLunga.length && !0==isNaN(memoriaLunga[memoriaLunga.length - 1]) && ")" !=memoriaLunga[memoriaLunga.length - 1] ? alert("la potenza deve essere attaccata a un numero o a una parentesi") : "" !==memoriaBreve || ")"==memoriaLunga[memoriaLunga.length - 1] ? ("" !==memoriaBreve && memoriaLunga.push(Number(memoriaBreve)), memoriaLunga.push("^"), memoriaLunga.push("("), contoParentesi +=1, schermo.innerText=memoriaLunga.toString().replace(/,/g, ""), statoPunto=!0, memoriaBreve="") : (""===memoriaBreve || 1==memoriaLunga.length) && (memoriaLunga.push("^"), memoriaLunga.push("("), contoParentesi +=1, schermo.innerText=memoriaLunga.toString().replace(/,/g, ""), statoPunto=!0, memoriaBreve="")}); const canc1=document.getElementById("canc1"); canc1.addEventListener("click", function (){"" !==memoriaBreve ? (memoriaBreve="", statoPunto=!0, schermo.innerText=memoriaLunga.toString().replace(/,/g, "")) : ("("==memoriaLunga[memoriaLunga.length - 1] ? contoParentesi -=1 : ")"==memoriaLunga[memoriaLunga.length - 1] && (contoParentesi +=1), ("*"==memoriaLunga[memoriaLunga.length - 1] || ":"==memoriaLunga[memoriaLunga.length - 1]) && (statoOperatore1=!0), memoriaLunga.splice(memoriaLunga.length - 1, 1), !1==isNaN(memoriaLunga[memoriaLunga.length - 1]) ? (statoPunto=!0 !=(memoriaBreve=memoriaLunga[memoriaLunga.length - 1].toString()).includes("."), memoriaLunga.splice(memoriaLunga.length - 1, 1), schermo.innerText=memoriaLunga.toString().replace(/,/g, ""), schermo.innerText +=memoriaBreve) : schermo.innerText=memoriaLunga.toString().replace(/,/g, ""))}); const cancTutto=document.getElementById("cancTutto"); cancTutto.addEventListener("click", function (){memoriaBreve="", memoriaLunga=[], statoOperatore1=!1, statoPunto=!0, contoParentesi=0, schermo.innerText=""}); const uguale=document.getElementById("uguale"), approssimazione=document.getElementById("apr"); uguale.addEventListener("click", function (){if ("" !==memoriaBreve && (memoriaLunga.push(Number(memoriaBreve)), memoriaBreve=""), 0==memoriaLunga.length) alert("nessun valore digitato"); else if (0 !=contoParentesi) alert("parentesi ancora aperte"); else if (")"==memoriaLunga[memoriaLunga.length - 1] || !1==isNaN(memoriaLunga[memoriaLunga.length - 1])){let e=Math.round(risoluzioneComplessa(memoriaLunga) * 10 ** approssimazione.value) / 10 ** approssimazione.value; schermo.innerText=e, memoriaBreve="", (memoriaLunga=[]).push(e)}else alert("non puoi chiudere una operazione cos\xec")}); </script></body></html>